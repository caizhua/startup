<link rel="import" href="packages/polymer/polymer.html">

<polymer-element name="import-data" attributes="table">
  <template>
    <style>
    
 body {
  color: #333;
  font-family: 'Open Sans', sans-serif;
  font-size: 14px;
  font-weight: normal;
  line-height: 1.2em;
  margin: 15px;
}

output {
  display: block;
}

#drop-zone {
  border: 2px dashed #bbb;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
  color: #bbb;
  font-size: 20pt;
  font-weight: bold;
  padding: 25px;
  text-align: center;
}

#drop-zone.hover {
  background-color: #def;
  border-color: #777;
  color: #777;
}

#import_data{
  width:800px;
  left:100px;
  top:0px;
  height:600px;
  position:absolute;
}

#title,#submit{
  font-size: 20pt;
}

#data_sample{
  font-size: 15pt;
}

/*
#progress-bar {
  background-color: blue;
  border: 1px solid #000;
  font-size: 14px;
  margin: 10px 0;
  opacity: 0;
  -webkit-transition: opacity 0.5s linear;
  -moz-transition: opacity 0.5s linear;
  -o-transition: opacity 0.5s linear;
  transition: opacity 0.5s linear;
  padding: 3px;
  height: 40px;
  width: 0%;
}

#progress-bar.loading {
  opacity: 1.0;
}
 */
       
 </style>
    
    <div id="import_data">
    
    <p id="title"> Please select a file to import: </p>
    <form id="read">
    <input type="file" id="files" name="files[]" multiple />
    </form>
    <div id="drop-zone">Drop files here</div>
    <output id="list"></output>
    
    <template if="{{file_readed==true}}">
    <p> <label> Split Method </label> <!--input value="{{split_pattern}}"-->    
    <input type="checkbox" checked="{{whitespace_}}"> Whitespace characters &nbsp; &nbsp; &nbsp;
    <input type="checkbox" checked="{{comma_}}"> Comma &nbsp; &nbsp; &nbsp;
    <input type="checkbox" checked="{{semicolon_}}"> Semicolon &nbsp; &nbsp; &nbsp;
    <input type="checkbox" checked="{{others_}}"> Other split<input type="text" value="{{other_split}}">   
    </p> 
    
    
    <p> <label> Start Line </label> <input value="{{start_line}}"> &nbsp; &nbsp; &nbsp; <label> Total Lines: {{total_line}}</label> </p>    
    <p id="data_sample"> <label> Data Sample [Please edit labels and properties if necessary]:</label> </p>
    
     <table id="base_table" border="2">
     
      <tr>
      <td height="20" width="120">  <label style="width:120px; height:20px; display:inline-block">Property: </label>  </td>       

      <td height="20" width="120"   template repeat="{{key in prop_list}}">  <input style="width:120px; height:20px; display:inline-block" value="{{key}}">  </td>      

      </tr>
     
      <tr>
      <td height="20" width="120">  <label style="width:120px; height:20px; display:inline-block">Label: </label>  </td>       
    
      <td height="20" width="120"  template repeat="{{key in key_list}}">  <input style="width:120px; height:20px; display:inline-block" value="{{key}}">  </td>      
  
      </tr>

     
       
      <tr  template repeat="{{data in data_sample}}">
    
      <td height="20" width="120"  template repeat="{{d in data}}">  <label style="width:120px; height:20px; display:inline-block"> {{d}}  </label> </td>      

      </tr>
  
     
     </table>
     
    <!-- {{ws_error}}  -->
    
   <!--
     
     <p> <button id="submit" on-click="{{import_data_to_server}}"> Import the data </button> </p>
     
    
     <template if="{{import_start==true}}">
     <label> Import progress: {{progress}}%  </label> 
     </template>
     -->
     

    
    </template>
    
    
    <!--
    <div id="progress-bar"></div>
    -->
    
    </div>
    
    
    
    
   </template>
  <script type="application/dart" src="import_data.dart"></script>
</polymer-element>